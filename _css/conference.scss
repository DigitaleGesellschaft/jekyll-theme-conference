/**
 * Conference Theme Styles
 *
 * Custom styles for the conference theme.
 * These styles extend and customize Bootstrap components.
 */

// Speaker Columns
@mixin generate-col-count-classes($max-cols: 6, $breakpoints: (xs, sm, md, lg, xl, xxl)) {

  // Generate base classes without breakpoint (col-count-1, col-count-2, etc.)
  @for $idx from 1 through $max-cols {
    .col-count-#{$idx} {
      column-count: $idx;
    }
  }

  // Generate responsive classes for each breakpoint
  @each $breakpoint in $breakpoints {
    @if $breakpoint !='xs' {
      @include media-breakpoint-up($breakpoint) {
        @for $idx from 1 through $max-cols {
          .col-count-#{$breakpoint}-#{$idx} {
            column-count: $idx;
          }
        }
      }
    }
  }
}

// Call the mixin to generate all classes
@include generate-col-count-classes();

.col-count {
  break-inside: avoid-column;
}

// Remove bottom margin on last paragraph in alert
.alert>p:last-of-type {
  margin-bottom: 0;
}

// Live icon
.live-button>object {
  width: 0.85em;
  height: 0.85em;
  color: inherit;
}

// Map
#map {
  min-height: 400px;
}

// Live button font size in navigation bar
.nav-link .live-button {
  font-size: 1em;
}

// Program table - sticky header and first column
.table {
  // Avoid sticky cells without border
  border-collapse: separate;
  border-spacing: 0;

  tbody tr:first-of-type>* {
    border-top-width: 0;
  }

  // Sticky horizontal positioning
  th {
    position: sticky;
    background-color: var(--bs-body-bg);
  }

  th:first-of-type {
    left: 0;
    z-index: 1;
  }

  // Hide shadow of table cells next to sticky header
  thead tr>th:last-of-type {
    box-shadow: 10px 0 0 0 rgba(255, 255, 255, 1);
  }
}

// Table column widths
.table {
  // First row defines width for all columns
  table-layout: fixed;
  width: auto;

  th,
  td {
    // Total available container width is 1110px
    // Width of columns with content (default)
    width: 245px;
    min-width: 245px;

    // Spacing between columns
    &.col-space {
      width: 15px;
      min-width: 15px;
    }

    // Width of first column containing timestamps
    &.col-title {
      width: 70px;
      min-width: 70px;
    }
  }
}

// Print styles
@media print {

  // Preserve background colors for table cells
  @each $color, $value in $theme-colors {
    .table td.alert-#{$color} {
      print-color-adjust: exact;
      -webkit-print-color-adjust: exact;
      background-color: tint-color($value, 80%) !important;
      color: black;
    }
  }

  .badge {
    print-color-adjust: exact;
    -webkit-print-color-adjust: exact;
    border: 0 none white;
    text-decoration: none !important;
  }

  // Remove sticky position from table to show borders
  .table th {
    position: inherit;
  }

  // Remove live buttons
  .live-show {
    display: none;
  }

  .live-hide {
    display: inline-block !important;
  }
}
{%- include get_location_config.html -%}
{% assign all_hidden = true -%}
{% unless location_hide %}
  {% for room in site.rooms %}
    {% unless room.hide %}
      {% assign all_hidden = false %}
      {% break %}
    {% endunless %}
  {% endfor %}
{% endunless %}

{% unless all_hidden %}
  <nav aria-label="{{ site.data.lang[site.conference.lang].location.navigation | default: 'Room navigation' }}">
    <ul class="nav nav-pills d-print-none mb-3" role="list">
      <li class="nav-item">
        <a class="nav-link {% if page.name contains 'index' %}active{% endif %}" href="{{ location_url | prepend: site.baseurl }}"{% if page.name contains 'index' %} aria-current="page"{% endif %}>
          {% if location_page.title -%}
            {{- location_page.title -}}
          {%- else -%}
            {{- site.data.lang[site.conference.lang].location.name | default: "Location" -}}
          {%- endif %}
        </a>
      </li>
      {% for room in site.rooms -%}
        <li class="nav-item">
          {% if room.hide or location_hide -%}
            <span class="nav-item nav-link disabled" aria-disabled="true">
              {{ room.name }}
            </span>
          {%- else -%}
            <a class="nav-link {% if this_room.name == room.name %}active{% endif %}" href="{{ room.url | prepend: site.baseurl }}"{% if this_room.name == room.name %} aria-current="page"{% endif %}>
              {{ room.name }}
            </a>
          {%- endif %}
        </li>
      {%- endfor %}
    </ul>
  </nav>
{% endunless %}
